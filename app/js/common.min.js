!function(){"use strict";function e(e){for(var t=0;t<i.length;t++){var n="";1!=i[t].order&&2!=i[t].order&&3!=i[t].order||(n="active");var a='<li class="table__item '+n+'"><div class="cell-left text-center"><span class="cell-number">'+i[t].order+'</span></div><div class="cell-right clearfix"><span class="cell-sum"><span class="align-helper"> $ '+i[t].sum+'</span></span><span class="cell-account">'+i[t].account+'</span><span class="cell-country lang-'+i[t].flag+'"></span></div></li>';document.getElementById(e).innerHTML+=a}}function t(e){document.getElementById(e).innerHTML=""}function n(e,t){var n=function(t){return t[e]};return t=t?-1:1,function(e,a){return e=n(e),a=n(a),t*((e>a)-(a>e))}}function a(a,r){switch(a.target.parentNode.className){case"cell-number":i.sort(n("order",r));break;case"cell-sum":i.sort(n("sum",r));break;case"cell-account":i.sort(n("account",r));break;case"cell-country":i.sort(n("flag",r))}t("tournament-list"),e("tournament-list"),localStorage.setItem("itemsArr",JSON.stringify(i))}function r(e){a(e,!0)}function s(e){a(e,!1)}function l(){for(var e=document.querySelectorAll(".sort-up"),t=document.querySelectorAll(".sort-down"),n=0;n<e.length;n++)e[n].addEventListener("click",r,!1);for(var a=0;a<t.length;a++)t[a].addEventListener("click",s,!1)}function c(){var e=document.getElementById("inp-firstname"),t=document.getElementById("inp-lastname"),n=document.getElementById("inp-phone"),a=document.getElementById("inp-email"),r=/^([^0-9]*)$/,s=/^(?=.*[0-9])[- +()0-9]+$/,l=/\S+@\S+/,c=!1;e.value.match(r)&&e.value?e.classList.remove("invalid"):(e.classList.add("invalid"),c=!0),t.value.match(r)&&t.value?t.classList.remove("invalid"):(t.classList.add("invalid"),c=!0),n.value.match(s)?n.classList.remove("invalid"):(n.classList.add("invalid"),c=!0),a.value.match(l)||!a.value?a.classList.remove("invalid"):a.classList.add("invalid");var i=(document.forms.topForm,document.getElementById("status")),o=document.getElementById("submit");if(!c){o.disabled=!0,i.innerHTML="Отправка ...";var u=new FormData;u.append("fn",e.value),u.append("ln",t.value),u.append("ph",n.value),u.append("em",a.value);var d=new XMLHttpRequest;d.open("POST","example_parser.php"),d.onreadystatechange=function(){4==d.readyState&&200==d.status&&("success"==d.responseText?i.innerHTML="Спасибо "+e.value+", Ваши данные отправлено":i.innerHTML=d.responseText)},d.send(u)}}var i=[{order:1,flag:"ru",sum:"5 321",account:"123 456 000"},{order:2,flag:"spa",sum:"3 000",account:"425 238 238"},{order:3,flag:"chi",sum:"890",account:"123 543 548"},{order:4,flag:"ru",sum:"777",account:"090 235 453"},{order:5,flag:"spa",sum:"666",account:"009 281 443"},{order:6,flag:"chi",sum:"555",account:"515 654 522"},{order:7,flag:"ru",sum:"444",account:"765 452 241"},{order:8,flag:"spa",sum:"333",account:"562 183 816"},{order:9,flag:"chi",sum:"222",account:"642 452 555"},{order:10,flag:"ru",sum:"111",account:"212 552 112"}],o=o||window.event;null===localStorage.getItem("itemsArr")||localStorage.getItem("itemsArr").length!=JSON.stringify(i).length?localStorage.setItem("itemsArr",JSON.stringify(i)):i=JSON.parse(localStorage.getItem("itemsArr")),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("submit"),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0);document.querySelector(".header").setAttribute("style","height:"+n+"px"),document.querySelector(".anim-left").classList.add("anim-finish"),document.querySelector(".anim-right").classList.add("anim-finish"),t.addEventListener("click",c),e("tournament-list"),l()})}();