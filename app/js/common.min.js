!function(){"use strict";function e(e){for(var t=0;t<o.length;t++){var n="";1!=o[t].order&&2!=o[t].order&&3!=o[t].order||(n="active");var a='<li class="table__item '+n+'"><div class="cell-left text-center"><span class="cell-number">'+o[t].order+'</span></div><div class="cell-right clearfix"><span class="cell-sum"><span class="align-helper"> $ '+o[t].sum+'</span></span><span class="cell-account">'+o[t].account+'</span><span class="cell-country lang-'+o[t].flag+'"></span></div></li>';document.getElementById(e).innerHTML+=a}}function t(e){document.getElementById(e).innerHTML=""}function n(e,t){var n=function(t){return t[e]};return t=t?-1:1,function(e,a){return e=n(e),a=n(a),t*((e>a)-(a>e))}}function a(a,r){switch(a.target.parentNode.className){case"cell-number":o.sort(n("order",r));break;case"cell-sum":o.sort(n("sum",r));break;case"cell-account":o.sort(n("account",r));break;case"cell-country":o.sort(n("flag",r))}t("tournament-list"),e("tournament-list"),localStorage.setItem("itemsArr",JSON.stringify(o))}function r(e){a(e,!0)}function s(e){a(e,!1)}function l(){for(var e=document.querySelectorAll(".sort-up"),t=document.querySelectorAll(".sort-down"),n=0;n<e.length;n++)e[n].addEventListener("click",r,!1);for(var a=0;a<t.length;a++)t[a].addEventListener("click",s,!1)}function c(){var e=document.getElementById("inp-firstname"),t=document.getElementById("inp-lastname"),n=document.getElementById("inp-phone"),a=document.getElementById("inp-email"),r=/^(?=.*[0-9])[- +()0-9]+$/,s=/\S+@\S+/,l=!1;isNaN(e.value)?e.classList.remove("invalid"):(e.classList.add("invalid"),l=!0),isNaN(t.value)?t.classList.remove("invalid"):(t.classList.add("invalid"),l=!0),n.value.match(r)?n.classList.remove("invalid"):(n.classList.add("invalid"),l=!0),a.value.match(s)||!a.value?a.classList.remove("invalid"):a.classList.add("invalid");var c=(document.forms.topForm,document.getElementById("status")),o=document.getElementById("submit");if(!l){o.disabled=!0,c.innerHTML="Отправка ...";var i=new FormData;i.append("fn",e.value),i.append("ln",t.value),i.append("ph",n.value),i.append("em",a.value);var u=new XMLHttpRequest;u.open("POST","example_parser.php"),u.onreadystatechange=function(){4==u.readyState&&200==u.status&&("success"==u.responseText?c.innerHTML="Спасибо "+e.value+", Ваши данные отправлено":c.innerHTML=u.responseText)},u.send(i)}}var o=[{order:1,flag:"ru",sum:"5 321",account:"123 456 000"},{order:2,flag:"spa",sum:"3 000",account:"425 238 238"},{order:3,flag:"chi",sum:"890",account:"123 543 548"},{order:4,flag:"ru",sum:"777",account:"090 235 453"},{order:5,flag:"spa",sum:"666",account:"009 281 443"},{order:6,flag:"chi",sum:"555",account:"515 654 522"},{order:7,flag:"ru",sum:"444",account:"765 452 241"},{order:8,flag:"spa",sum:"333",account:"562 183 816"},{order:9,flag:"chi",sum:"222",account:"642 452 555"},{order:10,flag:"ru",sum:"111",account:"212 552 112"}],i=i||window.event;null===localStorage.getItem("itemsArr")||localStorage.getItem("itemsArr").length!=JSON.stringify(o).length?localStorage.setItem("itemsArr",JSON.stringify(o)):o=JSON.parse(localStorage.getItem("itemsArr")),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("submit"),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0);document.querySelector(".header").setAttribute("style","height:"+n+"px"),t.addEventListener("click",c),e("tournament-list"),l()})}();